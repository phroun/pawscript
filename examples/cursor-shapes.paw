# Cursor Shapes Demo
# Demonstrates the cursor shape and blink options via the DECSCUSR escape sequence
# Run this in pawgui-gtk or a terminal that supports cursor shape control

print "=========================================="
print "   PawScript Cursor Shapes Demo"
print "=========================================="
print ""

# Get initial cursor info
info: {cursor}
print "Current cursor settings:"
print "  Shape: ~info.shape"
print "  Blink: ~info.blink"
print "  Visible: ~info.visible"
print ""

print "This demo will cycle through all cursor shapes."
print "Watch the cursor change after each prompt!"
print ""

# 1. Blinking Block (default - slow blink)
print "--- Blinking Block Cursor (slow) ---"
cursor shape: "block", blink: true
write "Press Enter to continue... "
read
print ""

# 2. Fast Blinking Block
print "--- Fast Blinking Block Cursor ---"
cursor shape: "block", blink: "fast"
write "Press Enter to continue... "
read
print ""

# 3. Steady Block
print "--- Steady Block Cursor ---"
cursor shape: "block", blink: false
write "Press Enter to continue... "
read
print ""

# 4. Blinking Underline (slow)
print "--- Blinking Underline Cursor (slow) ---"
cursor shape: "underline", blink: true
write "Press Enter to continue... "
read
print ""

# 5. Fast Blinking Underline
print "--- Fast Blinking Underline Cursor ---"
cursor shape: "underline", blink: "fast"
write "Press Enter to continue... "
read
print ""

# 6. Steady Underline
print "--- Steady Underline Cursor ---"
cursor shape: "underline", blink: false
write "Press Enter to continue... "
read
print ""

# 7. Blinking Bar (I-beam, slow)
print "--- Blinking Bar Cursor (slow) ---"
cursor shape: "bar", blink: true
write "Press Enter to continue... "
read
print ""

# 8. Fast Blinking Bar
print "--- Fast Blinking Bar Cursor ---"
cursor shape: "bar", blink: "fast"
write "Press Enter to continue... "
read
print ""

# 9. Steady Bar (I-beam)
print "--- Steady Bar Cursor ---"
cursor shape: "bar", blink: false
write "Press Enter to continue... "
read
print ""

# Show cursor visibility toggle
print "--- Cursor Visibility ---"
print "Hiding cursor for 2 seconds..."
cursor visible: false
msleep 2000
cursor visible: true
print "Cursor is visible again!"
print ""

# Reset to default
print "--- Reset to Default ---"
cursor shape: "block", blink: true
print "Cursor reset to blinking block (default)"
print ""

# Summary of cursor options
print "=========================================="
print "   Cursor Shape Reference"
print "=========================================="
print ""
print "The cursor command uses DECSCUSR escape sequences:"
print ""
print "  cursor shape: \"block\"                 - Block cursor"
print "  cursor shape: \"underline\"             - Underline cursor (1/4 block)"
print "  cursor shape: \"bar\"                   - Vertical bar cursor"
print ""
print "  cursor blink: true                    - Slow blinking (\~530ms)"
print "  cursor blink: \"fast\"                  - Fast blinking (\~265ms)"
print "  cursor blink: false                   - Steady (no blink)"
print ""
print "DECSCUSR codes (ESC [ Ps SP q):"
print "  Ps=0,1: Blinking block"
print "  Ps=2:   Steady block"
print "  Ps=3:   Blinking underline"
print "  Ps=4:   Steady underline"
print "  Ps=5:   Blinking bar"
print "  Ps=6:   Steady bar"
print ""
print "Fast blink uses private mode: ESC [ ? 12 h"
print ""
print "Demo complete!"
