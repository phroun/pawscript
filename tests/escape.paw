message: "Hello!"
echo "Hello\!"
echo "{set_result ~message}"

macro show_args(
   Hello: Alice!
   echo ~Hello
   echo "Alice! = Good"
   echo "{set_result ~Hello}"
   echo "Alice! = Good"
   echo "Next two lines should be the same:"
   echo "$1"
   echo "$${set_result 1}"
   echo "Argument List: $*"
)

macro arg_count(
   set_result $#
)

macro loop_args(
   list: $@
   x: 1
   echo "loop_args List:", ${set_result ~list}
   while (lt ~x, {argc ~list}), (
      y: {argv ~list, ~x}
      echo "Arg {set_result ~x} = {set_result ~y}"
      x: {add ~x, 1}
   )
)

show_args "Hello, Alice!", 2, "third"

a: "b: c"
${set_result ~a}
echo ~b
echo $(~b)

loop_args "Hello, Alice", 2, "third", 4th



items: (apple, banana, cherry)

echo "Count: {argc ~items}"
echo "First: {argv ~items, 1}"

s: 'Hello, "Magoo"'
echo "The message is {set_result ~s}"
