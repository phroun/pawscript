=== Test 1: Color command returns list ===
Color returns: list

=== Test 2: Color list has fg and bg ===
Initial fg: -1
Initial bg: -1

=== Test 3: Color list has named args ===
term type returned: yes
ansi support checked: yes
color support checked: yes
bold: false
blink: false
underline: false
invert: false

=== Test 4: Setting foreground updates state ===
[31m[31mAfter color 4, fg: 4

=== Test 5: Setting both colors ===
[93;44m[93;44mAfter color 14,1: fg=14, bg=1

=== Test 6: Setting attributes ===
[0;1;4;97;44m[0;1;4;97;44mAfter bold+underline: bold=true, underline=true

=== Test 7: Reset clears everything ===
[0mAfter reset: fg=-1, bg=-1, bold=false, underline=false

=== Test 8: Color name parsing ===
[31m[31mred -> 4
[34m[34mblue -> 1
[32m[32mgreen -> 2
[93m[93myellow -> 14
[97m[97mwhite -> 15
[30m[30mblack -> 0
[0m
=== Test 9: Attribute persistence ===
[31m[0;1;31;49m[0;1;31;49mAfter red then bold: fg=4, bold=true
[0m
=== All color tests passed ===
